{"filter":false,"title":"NavRole.php","tooltip":"/app/NavRole.php","undoManager":{"mark":4,"position":4,"stack":[[{"start":{"row":40,"column":0},"end":{"row":48,"column":0},"action":"remove","lines":["    ","    public function scopeActive($query)","    {","        ","        //$query->join('navs','navs.id','=','nav_role.nav_id');","        $query->where('navs.active','1');","        ","    }",""],"id":2}],[{"start":{"row":13,"column":0},"end":{"row":61,"column":0},"action":"remove","lines":["    public function scopeAuth($query)","    {","    ","        $query->where('nav_role.role_id', Auth::user()->role)->join('navs','navs.id','=','nav_role.nav_id');","        ","    }","    ","    public function scopePublic($query)","    {","        ","        $query->join('navs','navs.id','=','nav_role.nav_id')->where('navs.is_public','1');","        ","    }","    ","    public function scopeLeftnav($query)","    {","        ","        $query->where('location', '1'); // 1= left nav, 2= top nav;","        ","    }","    ","    public function scopeTopnav($query)","    {","        ","        $query->where('location', '2'); // 1= left nav, 2= top nav;","        ","    }","    ","    public function scopeParent($query)","    {","        ","        $query->where('type','0');","        ","    }","    ","    public function scopeChild($query, $parent = null)","    {","        ","        $query->where('type','1');","        ","        if($parent != null)","        {","            ","            $query->where('parent',$parent);","            ","        }","        ","    }",""],"id":3}],[{"start":{"row":13,"column":0},"end":{"row":14,"column":0},"action":"remove","lines":["    ",""],"id":4}],[{"start":{"row":9,"column":0},"end":{"row":10,"column":0},"action":"insert","lines":["",""],"id":5}],[{"start":{"row":5,"column":0},"end":{"row":6,"column":0},"action":"remove","lines":["use Auth;",""],"id":6}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":5,"column":0},"end":{"row":5,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1502129087310,"hash":"f51e0eda4425e43e20d40865d768bca699f6619a"}